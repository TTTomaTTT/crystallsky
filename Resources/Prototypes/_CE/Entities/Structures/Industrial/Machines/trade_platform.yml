
- type: entity
  id: CETradingPlatformBase
  abstract: true
  name: trading platform
  description: Abstract base prototype for trading platforms.
  parent:
  - CEConstructibleMachine
  - CEBaseMachinePowered
  - BaseMachine
  categories: [ ForkFiltered ]
  components:
  - type: PlacementReplacement
    key: walls
  - type: Sprite
    drawdepth: FloorTiles
    snapCardinals: true
    sprite: _CE/Structures/Industrial/buy_platform.rsi
    layers:
    - state: base
  - type: Icon
    sprite: _CE/Structures/Industrial/buy_platform.rsi
    state: base
  - type: ActivatableUI
    key: enum.CETradingUiKey.Buy
  - type: ActivatableUIRequiresPower
  - type: Clickable
  - type: InteractionOutline
  - type: PlaceableSurface
  - type: ItemPlacer
    maxEntities: 0
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.4,-0.4,0.4,0.4"
        mask:
        - TabletopMachineMask
        layer:
        - Impassable
        - MidImpassable
        - LowImpassable
        hard: false
  - type: ApcPowerReceiver
    powerLoad: 0.1
  - type: UserInterface
    interfaces:
      enum.CETradingUiKey.Buy:
        type: CETradingPlatformBoundUserInterface
  - type: ExtensionCableReceiver
    receptionRange: 0

- type: entity
  parent:
  - CETradingPlatformBase
  id: CETradingPlatformEmpireGuard
  name: empire Guard trading platform
  description: Standard trading platform tied to the Empire Guard faction.
  categories: [ ForkFiltered ]
  components:
  - type: Machine
    board: CEMachineCoreTradingPlatformEmpireGuard
  - type: Sprite
    layers:
    - state: base
    - state: buy
  - type: CETradingPlatform
    faction: EmpireGuard

- type: entity
  parent:
  - CETradingPlatformBase
  id: CETradingPlatformBlackMarket
  name: black market trading platform
  description: A trading platform servicing black market factions.
  categories: [ ForkFiltered ]
  components:
  - type: Machine
    board: CEMachineCoreTradingPlatformBlackMarket
  - type: Sprite
    layers:
    - state: base
    - state: sell
  - type: CETradingPlatform
    faction: BlackMarket

- type: entity
  parent:
  - CETradingPlatformBase
  id: CETradingPlatformHomeDecor
  name: home decor trading platform
  description: A trading platform tied to the Home Decor faction.
  categories: [ ForkFiltered ]
  components:
  - type: Machine
    board: CEMachineCoreTradingPlatformHomeDecor
  - type: Sprite
    layers:
    - state: base
    - state: buy
  - type: CETradingPlatform
    faction: HomeDecor

- type: entity
  parent:
  - CETradingPlatformBase
  id: CETradingPlatformTailors
  name: tailors trading platform
  description: A trading platform tied to the Tailors faction.
  categories: [ ForkFiltered ]
  components:
  - type: Machine
    board: CEMachineCoreTradingPlatformTailors
  - type: Sprite
    layers:
    - state: base
    - state: buy
  - type: CETradingPlatform
    faction: Tailors

- type: entity
  parent:
  - CETradingPlatformBase
  id: CETradingPlatformHorticulture
  name: Horticulture trading platform
  description: A trading platform tied to the Horticulture faction.
  categories: [ ForkFiltered ]
  components:
  - type: Machine
    board: CEMachineCoreTradingPlatformHorticulture
  - type: Sprite
    layers:
    - state: base
    - state: buy
  - type: CETradingPlatform
    faction: Horticulture

- type: entity
  parent:
  - CETradingPlatformBase
  id: CETradingPlatformDwarfMiners
  name: dwarf miners trading platform
  description: A trading platform tied to the Dwarf Miners faction.
  categories: [ ForkFiltered ]
  components:
  - type: Machine
    board: CEMachineCoreTradingPlatformDwarfMiners
  - type: Sprite
    layers:
    - state: base
    - state: buy
  - type: CETradingPlatform
    faction: DwarfMiners

- type: entity
  parent:
  - CETradingPlatformBase
  id: CETradingPlatformAlcohol
  name: alcohol trading platform
  description: A trading platform tied to the Alcohol faction.
  categories: [ ForkFiltered ]
  components:
  - type: Machine
    board: CEMachineCoreTradingPlatformAlcohol
  - type: Sprite
    layers:
    - state: base
    - state: buy
  - type: CETradingPlatform
    faction: Alcohol

- type: entity
  parent:
  - CETradingPlatformBase
  id: CETradingPlatformApothecariesGuild
  name: apothecaries guild trading platform
  description: A trading platform tied to the Apothecaries Guild faction.
  categories: [ ForkFiltered ]
  components:
  - type: Machine
    board: CEMachineCoreTradingPlatformApothecariesGuild
  - type: Sprite
    layers:
    - state: base
    - state: buy
  - type: CETradingPlatform
    faction: ApothecariesGuild

#

- type: entity
  parent:
  - CEConstructibleMachine
  - CEBaseMachinePowered
  - BaseMachine
  id: CESalaryPlatform
  name: salary platform
  description: Allows you to quickly receive the salary you are entitled to (if, of course, you are supposed to receive a salary from the empire)
  categories: [ ForkFiltered ]
  components:
  - type: Machine
    board: CEMachineCoreSalaryPlatform
  - type: PlacementReplacement
    key: walls
  - type: Sprite
    drawdepth: FloorTiles
    snapCardinals: true
    sprite: _CE/Structures/Industrial/buy_platform.rsi
    layers:
    - state: base
    - state: salary
  - type: Clickable
  - type: InteractionOutline
  - type: CESalaryPayroll
  - type: PlaceableSurface
  - type: ItemPlacer
    maxEntities: 0
    whitelist:
      tags:
      - CECoin
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.4,-0.4,0.4,0.4"
        mask:
        - TabletopMachineMask
        layer:
        - Impassable
        - MidImpassable
        - LowImpassable
        hard: false
  - type: ApcPowerReceiver
    powerLoad: 0.1

- type: entity
  id: CECashImpact
  categories: [ ForkFiltered ]
  name: cash impact
  suffix: VFX
  save: false
  components:
  - type: Sprite
    snapCardinals: true
    sprite: _CE/Structures/Industrial/buy_platform.rsi
    layers:
    - state: impact
      shader: unshaded
      color: "#69279f"
    drawdepth: Effects
  - type: TimedDespawn
    lifetime: 2
  - type: Tag
    tags:
      - HideContextMenu
  - type: PointLight
    color: "#69279f"
    enabled: true
    radius: 8
    energy: 8
    netsync: false
  - type: LightFade
    duration: 2

